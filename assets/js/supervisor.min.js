"use strict";const Supervisor=function(t,u){const o={init:function(){u(t).ready(o.ready)},ready:function(){o.events()},events:function(){u(t).on("click",".supv-notice .notice-dismiss",function(){var t=u(this).closest(".supv-notice").attr("class").match(/supv-notice-(?:ssl|https)\s/)[0].replace("supv-notice-","");o.ajax_request("supv_hide_admin_notice",{software:t},!1)}).on("click","#supv-btn-transients-clear",function(){o.ajax_request("supv_transients_cleanup",null,"#supv-transients-stats","#supv-btn-transients-clear")}).on("click","#supv-btn-autoload-options",function(){u("#supv-autoload-result").hide(),""===u("#supv-autoload-options").html().trim()?o.ajax_request("supv_autoload_options_list",null,"#supv-autoload-options"):u("#supv-autoload-options").html("")}).on("click","#supv-btn-autoload-history",function(){u("#supv-autoload-result").hide(),o.ajax_request("supv_autoload_options_history",null,"#supv-autoload-options")}).on("click","#supv-btn-autoload-close",function(){u("#supv-autoload-result").hide(),u("#supv-autoload-options").html("")}).on("click","#supv-secure-login-switch",function(){u(this).is(":checked")?o.ajax_request("supv_secure_login_settings_output",null,"#supv-secure-login-settings"):(u("#supv-field-enabled").val("0"),u("#supv-secure-login-settings-form").submit(),u("#supv-secure-login-settings").empty())}),u(t).on("change","#supv-wordpress-update-policy",function(){o.ajax_request("supv_wordpress_auto_update_policy",{wp_auto_update_policy:u("#supv-wordpress-update-policy").find(":selected").val()},"#supv-wordpress-update-policy-box")}),u(t).on("submit","#supv-autoload-form",function(){var t=o.convert_to_object(u(this).serializeArray());return u("#supv-autoload-result").show(),o.ajax_request("supv_autoload_update_option",t,"#supv-autoload-stats"),!1}).on("submit","#supv-secure-login-settings-form",function(){var t=o.convert_to_object(u(this).serializeArray()),s="0"===t["supv-field-enabled"]?null:"#supv-secure-login-settings";return o.ajax_request("supv_secure_login_settings_save",t,s,"#supv-btn-secure-login-settings-save"),!1}),u(t).on("focus",".supv-secure-login-settings > form > ul > li > input",function(){u(".supv-secure-login-settings > form > ul > p.box-info").hide(),u(this).parent().next("p").show()}).on("focusout",".supv-secure-login-settings > form > ul > li > input",function(){u(".supv-secure-login-settings > form > ul > p.box-info").hide()})},convert_to_object:function(t){let o={};return u(t).each(function(t,s){o[s.name]=s.value}),o},ajax_request:function(t,s,o,e=null){let n={action:t};u("#"+t+"_wpnonce").length&&(t=u("#"+t+"_wpnonce").val(),n=u.extend(n,{_wpnonce:t})),"object"==typeof s&&(n=u.extend(n,s)),"string"==typeof o&&(o=!!u(o).length&&u(o)),u.ajax({method:"POST",url:ajaxurl,data:n,beforeSend(){e?u(e).addClass("supv-loading-button"):o&&o.html('<p class="supv_loading"><img src="/wp-includes/images/spinner.gif"> '+supv.loading+"</p>")}}).done(function(t){e&&setTimeout(()=>{u(e).removeClass("supv-loading-button")},1500),o&&o.html(t)}).fail(function(){})}};return o}(document,jQuery);Supervisor.init();